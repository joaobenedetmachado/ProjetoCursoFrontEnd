<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript 001</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">
    <div class="form-group">
        <input id="item" type="text" class="form-control" placeholder="Produto:">
    </div>
    <div class="form-group">
        <input id="price" type="number" class="form-control" placeholder="Preço:">
    </div>
    <button class="btn btn-primary" onclick="readCart()">Clique</button>
    <p id="total" class="mt-3">Valor total: </p>
    <div id="lista" class="mt-3">
      <p class="mt-3">Items:</p>
    </div>

    <script>
        var itemArray = [];
        var totalArray = [];
        var totalid = document.getElementById("total");
        var listatotal = document.getElementById("lista");
        var total = 0;

        function readCart() {
            var item = document.getElementById("item").value;
            var price = parseFloat(document.getElementById("price").value);        
            if (item.length > 0 && !isNaN(price)) {
                addCart(item, price);
            } else {
                alert("as areas estão vazias");
            }
            document.getElementById("item").value = '';
            document.getElementById("price").value = '';
        }

        function addCart(item, price) {
          itemArray.push(item);
          totalArray.push(price);
          total = totalArray.reduce((acc, curr) => acc + curr, 0);
          for (i = 0; i < totalArray.length; i++) {
            total = total + totalArray[i]
          }
          totalid.innerHTML = `Valor total: ${total}`;
          
          var novoitem = document.createElement("p");
          novoitem.textContent = `${item} - R$ ${price.toFixed(2)}`;
          listatotal.appendChild(novoitem);
        }
    </script>

</body>
</html>
